///item for gamepad device instance, provide common API
Item {
	signal axes;						///< emitted when one of the axes is changed
	signal button;						///< emitted when any button is pressed
	property int index;					///< gamepad index in order of appearance
	property int buttonsCount;			///< supported buttons count
	property int axesCount;				///< supported axes count
	property int vendorId;				///< vendor ID
	property int productId;				///< product ID
	property bool connected;			///< is gamepad connected or not
	property bool standartMapping: true;	///< gamepad use standart buttons and axes mapping
	property string deviceInfo;			///< gamepad device info string

	/// @private
	constructor : {
		this._state = {}
		this._standartMapping = {
			axes: [ "leftStickX", "leftStickY", "rightStickX", "rightStickY"],
			button: [
				"a", "b", "x", "y",
				"leftBumper", "rightBumper", "leftTrigger", "rightTrigger",
				"back", "start", "leftStick", "rightStick",
				"up", "down", "left", "right", "guide"
			]
		}
		this._mapping = this._standartMapping

		this._db = 
		{"7085:1168": {"name": "Mad Catz Xbox 360 Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1064:256": {"name": "Gravis GamePad Pro USB ", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "1103:0": {"name": "Dual Trigger 3-in-1", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", 0, 0, "rightStickY"]}}, "1133:273": {"name": "Logitech F710 Gamepad (DInput)", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1699:0": {"name": "Saitek P2500", "mapping": {"button": ["x", "y", "a", "b", "start", "back", "leftBumper", "rightBumper", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1118:263": {"name": "X360 Wireless Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick", "left", "right", "up", "down"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "5:28001": {"name": "GameStop Gamepad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "5769:64768": {"name": "Razer Onza Tournament", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftStick", "rightStick", "start", "back", "guide", "up", "down", "left", "right"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "14368:0": {"name": "8Bitdo NES30 PRO Wireless", "mapping": {"button": ["a", "b", 0, "x", "y", 0, "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", 0, "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", 0, "rightStickX", "rightStickY"]}}, "7085:63745": {"name": "Gamestop BB-070 X360 Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftStick", "rightStick", "start", "back", "guide", "up", "down", "left", "right"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1064:0": {"name": "GamePad Pro USB", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "2064:0": {"name": "PS1 USB", "mapping": {"button": ["y", "b", "a", "x", "leftTrigger", "rightTrigger", "leftBumper", "rightBumper", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickY", "rightStickX"]}}, "9712:272": {"name": "Goodbetterbest Ltd USB Controller", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1:3": {"name": "Nintendo Wiimote", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1533:256": {"name": "InterAct GoPad I-73000 (Fighting Game Layout)", "mapping": {"button": ["x", "y", "rightBumper", "a", "b", "rightTrigger", "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "1103:45845": {"name": "Thrustmaster Dual Analog 3.2", "mapping": {"button": ["a", "x", "b", "y", "leftBumper", "leftTrigger", "rightBumper", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "3695:273": {"name": "Rock Candy Gamepad for PS3", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1118:256": {"name": "Microsoft X-Box pad (Japan)", "mapping": {"button": ["a", "b", "rightBumper", "x", "y", "leftBumper", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1118:257": {"name": "Microsoft X-Box One pad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1356:1476": {"name": "PS4 Controller", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", 0, 0, "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "leftTrigger", "rightTrigger", "rightStickY"]}}, "1118:654": {"name": "X360 Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftStick", "rightStick", "start", "back", "guide", "up", "down", "left", "right"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "3853:102": {"name": "HORIPAD FPS PLUS 4", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", 0, "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", 0, "rightTrigger", "rightStickY"]}}, "1848:293": {"name": "Mad Catz C.T.R.L.R ", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1356:273": {"name": "Sony DualShock 4", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", 0, 0, "rightStickY"]}}, "1103:272": {"name": "Thrustmaster Dual Analog 4", "mapping": {"button": ["a", "x", "b", "y", "leftBumper", "leftTrigger", "rightBumper", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "2342:256": {"name": "GameCube {WiseGroup USB box}", "mapping": {"button": ["a", "x", "b", "y", 0, 0, "rightBumper", "start"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY", "leftTrigger", "rightTrigger"]}}, "8406:1": {"name": "Moga Pro", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY", "rightTrigger", "leftTrigger"]}}, "3695:1568": {"name": "Afterglow Wired Controller for Xbox One", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "10256:256": {"name": "8Bitdo SFC30 GamePad", "mapping": {"button": ["b", "a", 0, "y", "x", 0, "leftBumper", "rightBumper", 0, 0, "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "1133:272": {"name": "Logitech Logitech RumblePad 2 USB", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "6473:0": {"name": "Ipega PG-9023", "mapping": {"button": ["a", "b", 0, "x", "y", 0, "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", 0, "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", 0, "rightStickX", "rightStickY"]}}, "1356:0": {"name": "PS4 Controller", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", 0, 0, "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "leftTrigger", "rightTrigger", "rightStickY"]}}, "121:6144": {"name": "Mayflash WiiU Pro Game Controller Adapter (DInput)", "mapping": {"button": ["x", 0, 0, 0, "a", 0, 0, 0, "b", 0, 0, 0, "y", 0, 0, 0, "leftBumper", 0, 0, 0, "rightBumper", 0, 0, 0, "leftTrigger", 0, 0, 0, "rightTrigger", 0, 0, 0, "back", 0, 0, 0, "start", 0, 0, 0, "leftStick", 0, 0, 0, "rightStick"], "axes": ["leftStickX", 0, 0, 0, "leftStickY", 0, 0, 0, "rightStickX", 0, 0, 0, "rightStickY"]}}, "8194:0": {"name": "8Bitdo NES30 PRO USB", "mapping": {"button": ["a", "b", 0, "x", "y", 0, "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", 0, "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", 0, "rightStickX", "rightStickY"]}}, "9571:0": {"name": "USB Vibration Joystick (BM)", "mapping": {"button": ["y", "b", "a", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "25176:28773": {"name": "Xbox Gamepad (userspace driver)", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY", "rightTrigger", "leftTrigger"]}}, "3695:256": {"name": "Generic X-Box pad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "3695:257": {"name": "Rock Candy Wired Controller for Xbox One", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "3853:0": {"name": "Hatsune Miku Sho Controller", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1390:272": {"name": "JC-U3613M - DirectInput Mode", "mapping": {"button": ["x", "y", "a", "b", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "leftStick", "rightStick", "back", "start", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1411:0": {"name": "iBuffalo USB 2-axis 8-button Gamepad", "mapping": {"button": ["b", "a", "y", "x", "leftBumper", "rightBumper", "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "1118:260": {"name": "Microsoft X-Box 360 pad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "10294:258": {"name": "OUYA Game Controller", "mapping": {"button": ["a", "x", "y", "b", "leftBumper", "rightBumper", "leftStick", "rightStick", "up", "down", "left", "right", 0, 0, "guide"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "10294:259": {"name": "OUYA Game Controller", "mapping": {"button": ["a", "x", "y", "b", "leftBumper", "rightBumper", "leftStick", "rightStick", "up", "down", "left", "right", 0, 0, "guide"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1118:9058": {"name": "Microsoft X-Box 360 pad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "10256:9": {"name": "8Bitdo SFC30 GamePad", "mapping": {"button": ["b", "a", 0, "y", "x", 0, "leftBumper", "rightBumper", 0, 0, "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "121:0": {"name": "Mayflash WiiU Pro Game Controller Adapter (DInput)", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "4661:43809": {"name": "SFC30 Joystick", "mapping": {"button": ["b", "a", 0, "y", "x", 0, "leftBumper", "rightBumper", 0, 0, "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "10256:0": {"name": "8Bitdo SFC30 GamePad", "mapping": {"button": ["b", "a", 0, "y", "x", 0, "leftBumper", "rightBumper", 0, 0, "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "1356:256": {"name": "PS3 Controller (Bluetooth)", "mapping": {"button": ["back", "leftStick", "rightStick", "start", "up", "right", "down", "left", "leftTrigger", "rightTrigger", "leftBumper", "rightBumper", "y", "b", "a", "x", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "10462:1": {"name": "Valve Streaming Gamepad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1411:8288": {"name": "iBuffalo USB 2-axis 8-button Gamepad", "mapping": {"button": ["b", "a", "y", "x", "leftBumper", "rightBumper", "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "4683:0": {"name": "NYKO AIRFLO", "mapping": {"button": ["a", "b", "x", "y", 0, "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "guide"], "axes": ["leftStick", 0, "rightStick", "leftBumper"]}}, "1848:1040": {"name": "Mad Catz Wired Xbox 360 Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1118:733": {"name": "Xbox One Wired Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftStick", "rightStick", "start", "back", "guide", "up", "down", "left", "right"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1103:256": {"name": "Thrustmaster Run N Drive  Wireless", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", 0, 0, "rightStickY"]}}, "3695:0": {"name": "Rock Candy Gamepad for PS3", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "6708:272": {"name": "GameCube {HuiJia USB box}", "mapping": {"button": ["x", "a", "b", "y", 0, 0, 0, "rightBumper", 0, "start", 0, 0, "up", "right", "down", "left"], "axes": ["leftStickX", "leftStickY", "rightStickY", "leftTrigger", "rightTrigger", "rightStickX"]}}, "1118:8224": {"name": "SpeedLink XEOX Pro Analog Gamepad pad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "4607:272": {"name": "PC Game Controller", "mapping": {"button": ["y", "b", "a", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1406:1": {"name": "Nintendo Wii U Pro Controller", "mapping": {"button": ["a", "b", "y", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "guide", "leftStick", "rightStick", "up", "down", "left", "right"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "121:6": {"name": "G-Shark GP-702", "mapping": {"button": ["y", "b", "a", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", 0, "rightStickX", "rightStickY"]}}, "1133:49695": {"name": "Logitech F710 Gamepad (XInput)", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftStick", "rightStick", "start", "back", "guide", "up", "down", "left", "right"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "4544:0": {"name": "Battalife Joystick", "mapping": {"button": ["leftBumper", "rightBumper", "back", "start", "x", "y", "a", "b"], "axes": ["leftStickX", "leftStickY"]}}, "3888:0": {"name": "Saitek P480 Rumble Pad", "mapping": {"button": ["x", "y", "a", "b", "leftBumper", "leftTrigger", "rightBumper", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickY", "rightStickX"]}}, "1133:16404": {"name": "Logitech F310 Gamepad (XInput)", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "2341:0": {"name": "Mayflash Wii Classic Controller", "mapping": {"button": ["b", "a", "y", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "guide", "up", "left", "down", "right"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "2341:1000": {"name": "Mayflash Wii Classic Controller", "mapping": {"button": ["b", "a", "y", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "guide", "up", "left", "down", "right"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "3853:273": {"name": "HORI CO. LTD. FIGHTING STICK 3", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", 0, 0, "guide"], "axes": []}}, "3727:3": {"name": "Piranha xtreme", "mapping": {"button": ["y", "b", "a", "x", "leftTrigger", "rightTrigger", "leftBumper", "rightBumper", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickY", "rightStickX"]}}, "3727:0": {"name": "Multilaser JS071 USB", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "4553:273": {"name": "HJC Game GAMEPAD", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "5336:53198": {"name": "MC Cthulhu", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start"], "axes": []}}, "3853:77": {"name": "HORI Gem Pad 3", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1699:256": {"name": "Saitek P880", "mapping": {"button": ["x", "y", "a", "b", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickY", "rightStickX"]}}, "3727:272": {"name": "GreenAsia Inc.      USB  Joystick  ", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "leftTrigger", "rightBumper", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickY", "rightStickX"]}}, "5769:292": {"name": "Razer Onza Classic Edition", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick", "left", "right", "up", "down"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1133:49686": {"name": "Logitech F310 Gamepad (DInput)", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1118:515": {"name": "Microsoft X-Box One pad v2", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "5336:273": {"name": "Toodles 2008 Chimp PC/PS3", "mapping": {"button": ["a", "b", "y", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "8406:0": {"name": "PowerA Pro Ex", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1133:773": {"name": "Logitech F710 Gamepad (XInput)", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1133:49689": {"name": "Logitech Wireless Gamepad (DInput)", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1133:49688": {"name": "Logitech F510 Gamepad (DInput)", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "65535:0": {"name": "GameStop Gamepad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "5:29807": {"name": "Wii U Pro Controller", "mapping": {"button": [0, 0, 0, 0, 0, 0, "start", "back", "guide", 0, 0, "up", "down", "left", "right", "b", "a", "y", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "3695:512": {"name": "Logic3 Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "8890:257": {"name": "Jess Technology USB Game Controller", "mapping": {"button": ["y", "b", "a", "x", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start"], "axes": ["leftStickX", "leftStickY", "rightStickY", "rightStickX"]}}, "10294:0": {"name": "OUYA Controller", "mapping": {"button": ["a", "x", "y", "b", "leftBumper", "rightBumper", "leftStick", "rightStick", "up", "down", "left", "right", "leftTrigger", "rightTrigger", "start", "guide"], "axes": ["leftStickX", "leftStickY", 0, "rightStickX", "rightStickY"]}}, "61440:0": {"name": "RetroUSB.com Super RetroPort", "mapping": {"button": ["x", "a", "back", "start", "y", "b", "leftBumper", "rightBumper"], "axes": ["leftStickX", "leftStickY"]}}, "1118:289": {"name": "Microsoft X-Box pad v2 (US)", "mapping": {"button": ["a", "b", "rightBumper", "x", "y", "leftBumper", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "26214:256": {"name": "Super Joy Box 5 Pro", "mapping": {"button": ["y", "b", "a", "x", "leftTrigger", "rightTrigger", "leftBumper", "rightBumper", "start", "back", "leftStick", "rightStick", "up", "right", "down", "left"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1133:0": {"name": "Logitech RumblePad 2 USB", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "4607:0": {"name": "Gembird JPD-DualForce", "mapping": {"button": ["x", "y", "a", "b", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", 0, "rightStickY"]}}, "7085:1331": {"name": "Hori Pad EX Turbo 2", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "3853:256": {"name": "hori", "mapping": {"button": ["a", "x", "y", "leftBumper", "leftStickX", "leftStickY", "b", "rightBumper", "back", "start", "guide"], "axes": []}}, "6708:0": {"name": "EXEQ RF USB Gamepad 8206", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", 0, "rightStick", "back", "start"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "21319:25697": {"name": "GameStop Gamepad", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "34952:0": {"name": "PS3 Controller", "mapping": {"button": ["x", "b", "a", "y", "leftBumper", "rightBumper", "leftTrigger", "rightTrigger", "back", "leftStick", "rightStick", "start", "guide"], "axes": ["leftStickX", "leftStickY", 0, "rightStickX", "rightStickY"]}}, "1411:272": {"name": "iBuffalo USB 2-axis 8-button Gamepad", "mapping": {"button": ["b", "a", "y", "x", "leftBumper", "rightBumper", "back", "start"], "axes": ["leftStickX", "leftStickY"]}}, "1699:272": {"name": "Saitek PLC Saitek P3200 Rumble Pad", "mapping": {"button": ["x", "a", "b", "y", "leftBumper", "rightBumper", "rightBumper", "rightTrigger", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY"]}}, "1699:273": {"name": "Saitek P2900 Wireless Pad", "mapping": {"button": ["x", "a", "b", "y", "leftTrigger", "rightTrigger", "leftBumper", "rightBumper", "back", "guide", "leftStick", "rightStick", "start"], "axes": ["leftStickX", "leftStickY", "rightStickY", "rightStickX"]}}, "1356:616": {"name": "PS3 Controller", "mapping": {"button": ["back", "leftStick", "rightStick", "start", "up", "right", "down", "left", "leftTrigger", "rightTrigger", "leftBumper", "rightBumper", "y", "b", "a", "x", "guide"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1133:8224": {"name": "Logitech F510 Gamepad (XInput)", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1103:45824": {"name": "Thrustmaster Firestorm Dual Power", "mapping": {"button": ["a", "x", "b", "y", "leftBumper", "leftTrigger", "rightBumper", "rightTrigger", "guide", "back", "start", "leftStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}, "1118:272": {"name": "X360 Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "1118:276": {"name": "X360 Controller", "mapping": {"button": ["a", "b", "x", "y", "leftBumper", "rightBumper", "back", "start", "guide", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "leftTrigger", "rightStickX", "rightStickY", "rightTrigger"]}}, "121:272": {"name": "RetroLink Saturn Classic Controller", "mapping": {"button": ["a", "b", "guide", "x", "y", "back", "leftBumper", "rightBumper", "start"], "axes": ["leftStickX", "leftStickY"]}}, "61440:256": {"name": "RetroUSB.com Super RetroPort", "mapping": {"button": ["x", "a", "back", "start", "y", "b", "leftBumper", "rightBumper"], "axes": ["leftStickX", "leftStickY"]}}, "2064:272": {"name": "Twin USB PS2 Adapter", "mapping": {"button": ["y", "b", "a", "x", "leftTrigger", "rightTrigger", "leftBumper", "rightBumper", "back", "start", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickY", "rightStickX"]}}, "1204:266": {"name": "Sega Saturn USB Gamepad", "mapping": {"button": ["a", "b", "guide", "x", "y", "back", "leftBumper", "rightBumper", "start"], "axes": ["leftStickX", "leftStickY"]}}, "2341:256": {"name": "Sony PS2 pad with SmartJoy adapter", "mapping": {"button": ["y", "b", "a", "x", "leftTrigger", "rightTrigger", "leftBumper", "rightBumper", "start", "back", "leftStick", "rightStick"], "axes": ["leftStickX", "leftStickY", "rightStickX", "rightStickY"]}}}

	}

	/// @private
	function _set(name, idx, n, value) {
		//log(name, idx, value)
		var _state = this._state
		var values
		if (!(name in _state))
			values = _state[name] = Array(n)
		else
			values = _state[name]

		var old = values[idx] || 0
		var delta = value - old
		if (delta != 0) {
			values[idx] = value
			var mapping = this._mapping[name] || []
			var mapName = mapping[idx]
			if (mapName) this.emit(mapName, value, delta); else this.emit(name, idx, value, delta)
		}
	}


	/// @private
	function get(name, idx) {
		var values = this._state[name] || []
		return values[idx] || 0
	}


	/// @private
	function poll(gp) {
		var event = { 'type': 'keydown', 'source': 'gamepad', 'index': gp.index }
		if (gp.axes) {
			var axes = gp.axes
			var n = axes.length
			for(var i = 0; i < n; ++i) {
				this._set('axes', i, n, axes[i])
			}
		}
		if (gp.buttons) {
			var buttons = gp.buttons
			var n = buttons.length
			for(var i = 0; i < n; ++i) {
				this._set('button', i, n, buttons[i].value)
			}
		}
	}

	onStandartMappingChanged: {
		if (value) {
			this._mapping = this._standartMapping
		} else {
			log("Not standart gamepad mapping")
			var gamepadId = this.vendorId + ":" + this.productId
			var mapping = this._db[gamepadId]
			if (mapping) {
				log("Use " + gamepadId + " mapping")
				this._mapping = mapping
			} else {
				log(gamepadId, "mapping not found, use default")
				this._mapping = this._standartMapping
			}
		}
	}

/*
	//add translation here
			// Functional buttons.
		if (gp.buttons.length >= 16) {}
			if (gp.buttons[0].pressed)
				event.which = 114
			else if (gp.buttons[1].pressed)
				event.which = 112
			else if (gp.buttons[2].pressed)
				event.which = 113
			else if (gp.buttons[3].pressed)
				event.which = 115
			// Trigger buttons.
			else if (gp.buttons[4].pressed)
				event.which = 6661
			else if (gp.buttons[5].pressed)
				event.which = 6663
			else if (gp.buttons[6].pressed)
				event.which = 6662
			else if (gp.buttons[7].pressed)
				event.which = 6664
			// Select button.
			else if (gp.buttons[8].pressed)
				event.which = 27
			// Start button.
			else if (gp.buttons[9].pressed)
				event.which = 6665
			// Left joystick.
			else if (gp.buttons[10].pressed)
				event.which = 13
			// Right joystick.
			else if (gp.buttons[11].pressed)
				event.which = 13
			// Navigation keys.
			else if (gp.buttons[12].pressed)
				event.which = 38
			else if (gp.buttons[13].pressed)
				event.which = 40
			else if (gp.buttons[14].pressed)
				event.which = 37
			else if (gp.buttons[15].pressed)
				event.which = 39
		}

		if (gp.buttons.length >= 17)
			if (gp.buttons[16].pressed)
				log("button 16")
		if (event.which)
			this._context._processKey(event)

*/

}
