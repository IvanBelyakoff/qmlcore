"use strict";var log=null,qsTr=function(t,e){return qml._context.qsTr.apply(qml._context,arguments)},qml=function(){var t={},e=t;t.core||(t.core={}),t.mixins||(t.mixins={}),t.hello||(t.hello={}),t.controls||(t.controls={}),t.html5||(t.html5={}),e.core.core=function(){var t=e;t.core.os=navigator.platform,t.core.device=0,t.core.vendor="",t.trace={key:!1,focus:!1},t.core.keyCodes={13:"Select",27:"Back",37:"Left",32:"Space",33:"PageUp",34:"PageDown",38:"Up",39:"Right",40:"Down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",112:"Red",113:"Green",114:"Yellow",115:"Blue"};var o=function(t,e,o){var r=Array.prototype.slice.call(t,e);return void 0!==o&&r.unshift(o),r};t.core.copyArguments=o,navigator.userAgent.indexOf("Android")<0&&(log=function(t){var e=o(arguments);console.log("[QML] "+e.join(" "))},log("Android detected"),t.core.vendor="google",t.core.device=2,t.core.os="AndroidOS",log("Android initialized")),null===log&&(log=console.log.bind(console));var r=function(e,o){navigator.userAgent.indexOf(e)<0||(log("[QML] "+e),t.core.vendor=o.vendor,t.core.device=o.device,t.core.os=o.os,log("loaded"))};r("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),r("Android",{vendor:"google",device:2,os:"android"}),r("iPhone",{vendor:"apple",device:2,os:"iOS"}),r("iPad",{vendor:"apple",device:2,os:"iOS"}),r("iPod",{vendor:"apple",device:2,os:"iOS"});var i={maroon:"800000",red:"ff0000",orange:"ffA500",yellow:"ffff00",olive:"808000",purple:"800080",fuchsia:"ff00ff",white:"ffffff",lime:"00ff00",green:"008000",navy:"000080",blue:"0000ff",aqua:"00ffff",teal:"008080",black:"000000",silver:"c0c0c0",gray:"080808",transparent:"0000"},n=function(t,e,o){try{return t.apply(null,e)}catch(t){o(t)}};t.core.safeCall=function(t,e){return function(o){return n(o,t,e)}},t.core.CoreObject=function(){},t.core.CoreObject.prototype.constructor=t.core.CoreObject,t.core.Color=function(t){if("string"!=typeof t)return this.r=255,this.g=0,this.b=255,void log("invalid color specification: "+t);var e;if("rgba"==t.substring(0,4)){var o=t.indexOf("("),r=t.lastIndexOf(")");return t=t.substring(o+1,r).split(","),this.r=parseInt(t[0],10),this.g=parseInt(t[1],10),this.b=parseInt(t[2],10),void(this.a=parseInt(t[3],10))}var n=t.charAt(0);if(e="#"!=n?i[t]:t.substring(1),!e)return this.r=255,this.g=0,this.b=255,void log("invalid color specification: "+t);var s=e.length;if(3==s||4==s){var a=parseInt(e.charAt(0),16),c=parseInt(e.charAt(1),16),o=parseInt(e.charAt(2),16),p=4==s?parseInt(e.charAt(3),16):15;this.r=a<<4|a,this.g=c<<4|c,this.b=o<<4|o,this.a=p<<4|p}else{if(6!=s&&8!=s)throw new Error("invalid color specification: "+t);this.r=parseInt(e.substring(0,2),16),this.g=parseInt(e.substring(2,4),16),this.b=parseInt(e.substring(4,6),16),this.a=8==s?parseInt(e.substring(6,8),16):255}},t.core.Color.prototype.constructor=t.core.Color;var s=t.core.Color;t.core.Color.prototype.get=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"},t.core.normalizeColor=function(t){return new s(t).get()},t.core.DelayedAction=function(t,e){this.context=t,this.action=function(){this._scheduled=!1,e()}.bind(this)},t.core.DelayedAction.prototype.schedule=function(){this._scheduled||(this._scheduled=!0,this.context.scheduleAction(this.action))};var a=window.Modernizr,c=a.prefixed("requestAnimationFrame",window)||function(t){return setTimeout(t,0)},p=a.prefixed("cancelAnimationFrame",window)||function(t){return clearTimeout(t)};return t.addProperty=function(t,e,o,r){var i;switch(e){case"enum":case"int":i=function(t){return parseInt(t,0)};break;case"bool":i=function(t){return!!t};break;case"real":i=function(t){return parseFloat(t)};break;case"string":i=function(t){return String(t)};break;default:i=function(t){return t}}if(void 0!==r)r=i(r);else switch(e){case"enum":case"int":r=0;break;case"bool":r=!1;break;case"real":r=0;break;case"string":r="";break;case"array":r=[];break;default:r=e[0].toUpperCase()==e[0]?null:void 0}var n="__property_"+o,s="__forward_"+o;Object.defineProperty(t,o,{get:function(){var t=this[n];return void 0!==t?void 0!==t.interpolatedValue?t.interpolatedValue:t.value:r},set:function(t){t=i(t);var e=this[n];if(void 0===e){if(t===r)return;e=this[n]={value:r}}var a=this.getAnimation(o);if(a&&e.value!==t){e.frameRequest&&p(e.frameRequest);var h=new Date;e.started=h.getTime()+h.getMilliseconds()/1e3;var d=void 0!==e.interpolatedValue?e.interpolatedValue:e.value,l=t,y=this,u=function(){p(e.frameRequest),e.frameRequest=void 0,a.complete=function(){},a.running=!1,e.interpolatedValue=void 0,e.started=void 0,y._update(o,l,d)},f=a.duration,m=function(){var t=new Date,r=t.getTime()+t.getMilliseconds()/1e3,n=1*(r-e.started)/f;n>=1?u():(e.interpolatedValue=i(a.interpolate(l,d,n)),y._update(o,e.interpolatedValue,d),e.frameRequest=c(m))};e.frameRequest=c(m),a.running=!0,a.complete=u}var g=e.value;if(g!==t){var v=this[s];if(void 0!==v){if(null!==g&&g instanceof Object){var b=g[v];return void(t!==b&&(g[v]=t,this._update(o,t,b)))}t instanceof Object&&this.connectOnChanged(t,v,function(t,e){this._update(o,t,e)}.bind(this))}e.value=t,a&&a.running||t!=r||delete this[n],a||this._update(o,t,g)}},enumerable:!0})},t.addAliasProperty=function(t,e,o,r){var i=o();t.connectOnChanged(i,r,function(o){t._update(e,o)}),Object.defineProperty(t,e,{get:function(){return i[r]},set:function(t){i[r]=t},enumerable:!0})},t.addSignal=function(t,e){t[e]=function(){var r=o(arguments,0,e);t.emit.apply(t,r)}},t.core.createSignalForwarder=function(t,e){return function(){t.emit.apply(t,o(arguments,0,e))}},t.core.EventBinder=function(t){this.target=t,this.callbacks={},this.enabled=!1},t.core.EventBinder.prototype.on=function(t,e){if(t in this.callbacks)throw new Error("double adding of event ("+t+")");this.callbacks[t]=e,this.enabled&&this.target.on(t,e)},t.core.EventBinder.prototype.constructor=t.core.EventBinder,t.core.EventBinder.prototype.enable=function(t){if(t!=this.enabled){var e=this.target;if(this.enabled=t,t)for(var o in this.callbacks)e.on(o,this.callbacks[o]);else for(var o in this.callbacks)e.removeListener(o,this.callbacks[o])}},t}();var o=e.core.core;return t.core.EventEmitter=function(e){t.core.CoreObject.apply(this,arguments),this._eventHandlers={},this._onFirstListener={},this._onLastListener={},this._onConnections=[]},t.core.EventEmitter.prototype=Object.create(t.core.CoreObject.prototype),t.core.EventEmitter.prototype.constructor=t.core.EventEmitter,t.core.EventEmitter.prototype.componentName="core.EventEmitter",t.core.EventEmitter.prototype.on=function(t,e){if(t in this._eventHandlers)this._eventHandlers[t].push(e);else{if(t in this._onFirstListener?this._onFirstListener[t](t):""in this._onFirstListener&&this._onFirstListener[""](t),this._eventHandlers[t])throw new Error("listener callback added event handler");this._eventHandlers[t]=[e]}},t.core.EventEmitter.prototype.removeAllListeners=function(t){delete this._eventHandlers[t],t in this._onLastListener?this._onLastListener[t](t):""in this._onLastListener&&this._onLastListener[""](t)},t.core.EventEmitter.prototype.connectOn=function(t,e,o){t.on(e,o),this._onConnections.push([t,e,o])},t.core.EventEmitter.prototype.onListener=function(t,e,o){this._onFirstListener[t]=e,this._onLastListener[t]=o},t.core.EventEmitter.prototype.discard=function(){for(var t in this._eventHandlers)this.removeAllListeners(t);this._onFirstListener={},this._onLastListener={},this._onConnections.forEach(function(t){t[0].removeListener(t[1],t[2])}),this._onConnections=[]},t.core.EventEmitter.prototype.emit=function(o){var r=e.core.copyArguments(arguments,1),i=t.core.safeCall(r,function(t){log("event/signal "+o+" handler failed:",t,t.stack)});if(o in this._eventHandlers){var n=this._eventHandlers[o];n.forEach(i)}},t.core.EventEmitter.prototype.removeListener=function(t,e){if(!(t in this._eventHandlers)||void 0===e||null===e)return void log("invalid removeListener("+t+", "+e+") invocation",(new Error).stack);var o=this._eventHandlers[t],r=o.indexOf(e);r>=0?o.splice(r,1):log("failed to remove listener for",t,"from",this),o.length||this.removeAllListeners(t)},t.core.Object=function(e){t.core.EventEmitter.apply(this,arguments),t.core.EventEmitter.apply(this),this.parent=e,this.children=[],this._context=e?e._context:null,this._local={},this._changedHandlers={},this._changedConnections=[],this._pressedHandlers={},this._animations={},this._updaters={}},t.core.Object.prototype=Object.create(t.core.EventEmitter.prototype),t.core.Object.prototype.constructor=t.core.Object,t.core.Object.prototype.componentName="core.Object",t.core.Object.prototype.addChild=function(t){this.children.push(t)},t.core.Object.prototype.getAnimation=function(t,e){var o=this._animations[t];return o&&o.enabled()?o:null},t.core.Object.prototype._update=function(e,o){if(e in this._changedHandlers){var r=this._changedHandlers[e],i=t.core.safeCall([o],function(t){log("on "+e+" changed callback failed: ",t,t.stack)});r.forEach(i)}},t.core.Object.prototype._setId=function(t){for(var e=this;e;)e._local[t]=this,e=e.parent},t.core.Object.prototype._tryFocus=function(){return!1},t.core.Object.prototype._removeUpdater=function(t,e){t in this._updaters&&this._updaters[t](),e?this._updaters[t]=e:delete this._updaters[t]},t.core.Object.prototype.onPressed=function(t,e){var o;o="Key"!=t?function(t,o){return o.accepted=!0,e(t,o),o.accepted}:e,t in this._pressedHandlers?this._pressedHandlers[t].push(o):this._pressedHandlers[t]=[o]},t.core.Object.prototype.connectOnChanged=function(t,e,o){t.onChanged(e,o),this._changedConnections.push([t,e,o])},t.core.Object.prototype._get=function(t){for(var e=this;e;){if(t in e._local)return e._local[t];e=e.parent}if(t in this)return this[t];throw new Error("invalid property requested: '"+t)},t.core.Object.prototype.onChanged=function(t,e){t in this._changedHandlers?this._changedHandlers[t].push(e):this._changedHandlers[t]=[e]},t.core.Object.prototype.setAnimation=function(t,e){this._animations[t]=e},t.core.Object.prototype.discard=function(){this._changedConnections.forEach(function(t){t[0].removeOnChanged(t[1],t[2])}),this._changedConnections=[],this.children.forEach(function(t){t.discard()}),this.children=[],this.parent=null,this._context=null,this._local={},this._changedHandlers={},this._pressedHandlers={},this._animations={},e.core.EventEmitter.prototype.discard.apply(this)},t.core.Object.prototype.removeOnChanged=function(t,e){if(t in this._changedHandlers){var o=this._changedHandlers[t],r=o.indexOf(e);r>=0?o.splice(r,1):log("failed to remove changed listener for",t,"from",this)}},t.mixins.HoverMixin=function(e){t.core.Object.apply(this,arguments),this.element=this.parent.element,this.parent.style("cursor",this.cursor),this._context._onCompleted(function(){this._bindClick(this.clickable),this._bindHover(this.enabled)}.bind(this)),this.onChanged("cursor",function(t){this.parent.style("cursor",t)}.bind(this)),this.onChanged("clickable",function(t){this._bindClick(t)}.bind(this)),this.onChanged("enabled",function(t){this._bindHover(t)}.bind(this))},t.mixins.HoverMixin.prototype=Object.create(t.core.Object.prototype),t.mixins.HoverMixin.prototype.constructor=t.mixins.HoverMixin,t.mixins.HoverMixin.prototype.componentName="mixins.HoverMixin",t.mixins.HoverMixin.prototype._bindClick=function(t){t&&!this._hmClickBinder&&(this._hmClickBinder=new e.core.EventBinder(this.element),this._hmClickBinder.on("click",e.core.createSignalForwarder(this.parent,"clicked").bind(this))),this._hmClickBinder&&this._hmClickBinder.enable(t)},t.mixins.HoverMixin.prototype._bindHover=function(t){t&&!this._hmHoverBinder&&(this._hmHoverBinder=new e.core.EventBinder(this.parent.element),this._hmHoverBinder.on("mouseenter",function(){this.value=!0}.bind(this)),this._hmHoverBinder.on("mouseleave",function(){this.value=!1}.bind(this))),this._hmHoverBinder&&this._hmHoverBinder.enable(t)},o.addProperty(t.mixins.HoverMixin.prototype,"string","cursor"),o.addProperty(t.mixins.HoverMixin.prototype,"bool","clickable",!0),o.addProperty(t.mixins.HoverMixin.prototype,"bool","enabled",!0),o.addProperty(t.mixins.HoverMixin.prototype,"bool","value"),t.core.Location=function(e){t.core.Object.apply(this,arguments);var o=this,r=window.location;window.onhashchange=function(){o.hash=r.hash},window.onpopstate=function(){o.updateActualValues()}},t.core.Location.prototype=Object.create(t.core.Object.prototype),t.core.Location.prototype.constructor=t.core.Location,t.core.Location.prototype.componentName="core.Location",t.core.Location.prototype.updateActualValues=function(){this.hash=window.location.hash,this.host=window.location.host,this.href=window.location.href,this.port=window.location.port,this.origin=window.location.origin,this.hostname=window.location.hostname,this.pathname=window.location.pathname;var t=window.history.state;this.historyState="string"==typeof t?t:JSON.stringify(t)},t.core.Location.prototype.pushState=function(t,e,o){window.history.pushState(t,e,o),this.updateActualValues()},t.core.Location.prototype.changeHref=function(t){window.location.href=t,this.updateActualValues()},o.addProperty(t.core.Location.prototype,"string","origin"),o.addProperty(t.core.Location.prototype,"string","hash"),o.addProperty(t.core.Location.prototype,"string","hostname"),o.addProperty(t.core.Location.prototype,"string","host"),o.addProperty(t.core.Location.prototype,"string","href"),o.addProperty(t.core.Location.prototype,"string","pathname"),o.addProperty(t.core.Location.prototype,"string","historyState"),o.addProperty(t.core.Location.prototype,"string","port"),t.core.Item=function(o){function r(){this._removeUpdater("boxIndex"),this.boxIndex=2}function i(){this._removeUpdater("boxIndex"),this.boxIndex=3}function n(){this._removeUpdater("boxIndex"),this.boxIndex=1}function s(){this._removeUpdater("boxIndex"),this.boxIndex=5}function a(){this._removeUpdater("boxIndex"),this.boxIndex=4}function c(){this._removeUpdater("boxIndex"),this.boxIndex=0}if(t.core.Object.apply(this,arguments),this._topPadding=0,this.parent){if(this.element)throw new Error("double ctor call");this.createElement(this.getTag());var p=function(t){this._recursiveVisible=t,this._updateVisibility()}.bind(this);p(this.parent.recursiveVisible),this.connectOnChanged(this.parent,"recursiveVisible",p)}var h,d,l,y,u,f,m,g,v;h=new e.core.AnchorLine(this),this.right=h,d=new e.core.Anchors(this),this.anchors=d,l=new e.core.AnchorLine(this),this.bottom=l,y=new e.core.AnchorLine(this),this.top=y,u=new e.core.AnchorLine(this),this.verticalCenter=u,f=new e.core.Transform(this),this.transform=f,m=new e.core.AnchorLine(this),this.horizontalCenter=m,g=new e.core.Effects(this),this.effects=g,v=new e.core.AnchorLine(this),this.left=v,r.call(h),i.call(l),n.call(y),s.call(u),a.call(m);var b=function(){this.focused=this._get("focusedChild")===this}.bind(this);b(),this.connectOnChanged(this,"focusedChild",b),this._removeUpdater("focused",function(){this.removeOnChanged("focusedChild",b)}.bind(this)),c.call(v),this.onChanged("visible",function(t){this._updateVisibility()}.bind(this))},t.core.Item.prototype=Object.create(t.core.Object.prototype),t.core.Item.prototype.constructor=t.core.Item,t.core.Item.prototype.componentName="core.Item",t.core.Item.prototype.boxChanged=function(){var e=t.core.copyArguments(arguments,0,"boxChanged");this.emit.apply(this,e)},t.core.Item.prototype.addChild=function(t){e.core.Object.prototype.addChild.apply(this,arguments),t._tryFocus()&&t._propagateFocusToParents()},t.core.Item.prototype._update=function(t,o){switch(t){case"width":this.style("width",o),this.boxChanged();break;case"height":this.style("height",o-this._topPadding),this.boxChanged();break;case"x":case"viewX":var r=this.x+this.viewX;this.style("left",r),this.boxChanged();break;case"y":case"viewY":var i=this.y+this.viewY;this.style("top",i),this.boxChanged();break;case"opacity":this.element&&this.style("opacity",o);break;case"visible":this.element&&this.style("visibility",o?"inherit":"hidden");break;case"z":this.style("z-index",o);break;case"radius":this.style("border-radius",o);break;case"clip":this.style("overflow",o?"hidden":"visible")}e.core.Object.prototype._update.apply(this,arguments)},t.core.Item.prototype._mapCSSAttribute=function(t){return{width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",background:"background"}[t]},t.core.Item.prototype.setAnimation=function(t,o){this._updateAnimation(t,o)||e.core.Object.prototype.setAnimation.apply(this,arguments)},t.core.Item.prototype._updateStyle=function(){var t=this.element;t&&t.updateStyle()},t.core.Item.prototype._updateVisibility=function(){var t=!("visible"in this)||this.visible;this.recursiveVisible=this._recursiveVisible&&this.visible,!t&&this.parent&&this.parent._tryFocus()},t.core.Item.prototype.style=function(t,e){var o=this.element;return o?o.style(t,e):void log("WARNING: style skipped:",t,e)},t.core.Item.prototype.toScreen=function(){for(var t=this,e=0,o=0,r=this.width,i=this.height;t;)e+=t.x,o+=t.y,"view"in t&&(e+=t.viewX+t.view.content.x,o+=t.viewY+t.view.content.y),t=t.parent;return[e,o,e+r,o+i,e+r/2,o+i/2]},t.core.Item.prototype.forceActiveFocus=function(){for(var t=this;t.parent;)t.parent._focusChild(t),t=t.parent},t.core.Item.prototype._updateAnimation=function(t,e){if(!window.Modernizr.csstransitions||e&&!e.cssTransition)return!1;var o=this._mapCSSAttribute(t);if(void 0!==o){if(!e)throw new Error("resetting transition was not implemented");return e._target=t,this.setTransition(o,e)}return!1},t.core.Item.prototype.hasActiveFocus=function(){for(var t=this;t.parent;){if(t.parent.focusedChild!=t)return!1;t=t.parent}return!0},t.core.Item.prototype.setTransition=function(t,e){if(!window.Modernizr.csstransitions)return!1;var o={property:this._get("context").getPrefixedName("transition-property"),delay:this._get("context").getPrefixedName("transition-delay"),duration:this._get("context").getPrefixedName("transition-duration"),timing:this._get("context").getPrefixedName("transition-timing-function")};t=this._get("context").getPrefixedName(t)||t;var r=this.style(o.property)||[],i=this.style(o.duration)||[],n=this.style(o.timing)||[],s=this.style(o.delay)||[],a=r.indexOf(t);a===-1?(r.push(t),i.push(e.duration+"ms"),n.push(e.easing),s.push(e.delay+"ms")):(i[a]=e.duration+"ms",n[a]=e.easing,s[a]=e.delay+"ms");var c={};return c[o.property]=r,c[o.duration]=i,c[o.timing]=n,c[o.delay]=s,"smartTV"!==this._context.system.os&&"netcast"!==this._context.system.os||(c["transition-property"]=r,c["transition-duration"]=i,c["transition-delay"]=s,c["transition-timing-function"]=n),this.style(c),!0},t.core.Item.prototype.focusChild=function(t){this._propagateFocusToParents(),this._focusChild(t)},t.core.Item.prototype._processKey=function(o){if(this._tryFocus(),this.focusedChild&&this.focusedChild.visible&&this.focusedChild._processKey(o))return!0;var r=e.core.keyCodes[o.which||o.keyCode];if(r){if(r in this._pressedHandlers)for(var i=this._pressedHandlers[r],n=e.core.safeCall([r,o],function(t){log("on "+r+" handler failed:",t,t.stack)}),s=i.length-1;s>=0;--s){var a=i[s];if(n(a))return t.trace.key&&log("key",r,"handled by",this,(new Error).stack),!0}if("Key"in this._pressedHandlers)for(var i=this._pressedHandlers.Key,n=e.core.safeCall([r,o],function(t){log("onKeyPressed handler failed:",t,t.stack)}),s=i.length-1;s>=0;--s){var a=i[s];if(n(a))return t.trace.key&&log("key",r,"handled by",this,(new Error).stack),!0}}else log("unknown key",o.which);return!1},t.core.Item.prototype.createElement=function(t){this.element=this._context.createElement(t),this.parent.element.append(this.element)},t.core.Item.prototype.getTag=function(){return"div"},t.core.Item.prototype.setFocus=function(){this.forceActiveFocus()},t.core.Item.prototype._tryFocus=function(){if(!this.visible)return!1;if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var t=this.children,e=0;e<t.length;++e){var o=t[e];if(o._tryFocus())return this._focusChild(o),!0}return this.focus},t.core.Item.prototype._focusChild=function(t){if(t.parent!==this)throw new Error("invalid object passed as child");this.focusedChild!==t&&(this.focusedChild&&this.focusedChild._focusTree(!1),this.focusedChild=t,this.focusedChild&&this.focusedChild._focusTree(this.hasActiveFocus()))},t.core.Item.prototype._focusTree=function(t){this.activeFocus=t,this.focusedChild&&this.focusedChild._focusTree(t)},t.core.Item.prototype._propagateFocusToParents=function(){for(var t=this;t.parent&&(!t.parent.focusedChild||!t.parent.focusedChild.visible);)t.parent._focusChild(t),t=t.parent},t.core.Item.prototype.discard=function(){e.core.Object.prototype.discard.apply(this),this.focusedChild=null,this.element&&this.element.discard()},o.addProperty(t.core.Item.prototype,"AnchorLine","right"),o.addProperty(t.core.Item.prototype,"bool","clip"),o.addProperty(t.core.Item.prototype,"bool","focus"),o.addProperty(t.core.Item.prototype,"int","height"),o.addProperty(t.core.Item.prototype,"bool","visible",!0),o.addProperty(t.core.Item.prototype,"AnchorLine","horizontalCenter"),o.addProperty(t.core.Item.prototype,"AnchorLine","bottom"),o.addProperty(t.core.Item.prototype,"AnchorLine","top"),o.addProperty(t.core.Item.prototype,"Transform","transform"),o.addProperty(t.core.Item.prototype,"bool","activeFocus"),o.addProperty(t.core.Item.prototype,"Item","focusedChild"),o.addProperty(t.core.Item.prototype,"real","opacity",1),o.addProperty(t.core.Item.prototype,"Anchors","anchors"),o.addProperty(t.core.Item.prototype,"bool","recursiveVisible",!0),o.addProperty(t.core.Item.prototype,"bool","focused"),o.addProperty(t.core.Item.prototype,"Effects","effects"),o.addProperty(t.core.Item.prototype,"AnchorLine","verticalCenter"),o.addProperty(t.core.Item.prototype,"int","viewX"),o.addProperty(t.core.Item.prototype,"int","viewY"),o.addProperty(t.core.Item.prototype,"int","y"),o.addProperty(t.core.Item.prototype,"int","x"),o.addProperty(t.core.Item.prototype,"int","z"),o.addProperty(t.core.Item.prototype,"int","width"),o.addProperty(t.core.Item.prototype,"AnchorLine","left"),t.core.Rectangle=function(o){t.core.Item.apply(this,arguments);var r;r=new e.core.Border(this),this.border=r},t.core.Rectangle.prototype=Object.create(t.core.Item.prototype),t.core.Rectangle.prototype.constructor=t.core.Rectangle,t.core.Rectangle.prototype.componentName="core.Rectangle",t.core.Rectangle.prototype._update=function(t,o){switch(t){case"color":this.style("background-color",e.core.normalizeColor(o))}e.core.Item.prototype._update.apply(this,arguments)},t.core.Rectangle.prototype._mapCSSAttribute=function(t){var o={color:"background-color"}[t];return void 0!==o?o:e.core.Item.prototype._mapCSSAttribute.apply(this,arguments)},o.addProperty(t.core.Rectangle.prototype,"color","color","#0000"),o.addProperty(t.core.Rectangle.prototype,"Border","border"),o.addProperty(t.core.Rectangle.prototype,"Gradient","gradient"),o.addProperty(t.core.Rectangle.prototype,"real","radius"),t.controls.WebItem=function(r){t.core.Rectangle.apply(this,arguments);var i;i=new e.mixins.HoverMixin(this),this.hoverMixin=i,o.addAliasProperty(this,"cursor",function(){return this._get("hoverMixin")}.bind(this),"cursor"),o.addAliasProperty(this,"clickable",function(){return this._get("hoverMixin")}.bind(this),"clickable"),o.addAliasProperty(this,"hover",function(){return this._get("hoverMixin")}.bind(this),"value"),o.addAliasProperty(this,"hoverable",function(){return this._get("hoverMixin")}.bind(this),"enabled"),this._removeUpdater("color"),this.color="transparent",this._removeUpdater("hoverMixin.cursor"),this._get("hoverMixin").cursor="pointer"},t.controls.WebItem.prototype=Object.create(t.core.Rectangle.prototype),t.controls.WebItem.prototype.constructor=t.controls.WebItem,t.controls.WebItem.prototype.componentName="controls.WebItem",t.controls.WebItem.prototype._update=function(t,o){switch(t){case"position":this.style("position",o)}e.core.Rectangle.prototype._update.apply(this,arguments)},o.addProperty(t.controls.WebItem.prototype,"string","position"),o.addProperty(t.controls.WebItem.prototype,"Mixin","hoverMixin"),t.core.System=function(o){t.core.Object.apply(this,arguments);var r="";navigator.userAgent.indexOf("Chromium")>=0?r="Chromium":navigator.userAgent.indexOf("Chrome")>=0?r="Chrome":navigator.userAgent.indexOf("Opera")>=0?r="Opera":navigator.userAgent.indexOf("Firefox")>=0?r="Firefox":navigator.userAgent.indexOf("Safari")>=0?r="Safari":navigator.userAgent.indexOf("MSIE")>=0?r="IE":navigator.userAgent.indexOf("YaBrowser")>=0&&(r="Yandex"),this.browser=r,this.userAgent=navigator.userAgent,this.webkit=navigator.userAgent.toLowerCase().indexOf("webkit")>=0,this.device=e.core.device,this.vendor=e.core.vendor,this.os=e.core.os,this.language=navigator.language,this._context.language=this.language.replace("-","_"),this.support3dTransforms=window.Modernizr&&window.Modernizr.csstransforms3d,this.supportTransforms=window.Modernizr&&window.Modernizr.csstransforms,this.supportTransitions=window.Modernizr&&window.Modernizr.csstransitions;var i=this;window.onfocus=function(){i.pageActive=!0},window.onblur=function(){i.pageActive=!1};var n=function(){this.portrait=this._get("parent")._get("width")<this._get("parent")._get("height")}.bind(this);n(),this.connectOnChanged(this._get("parent"),"width",n),this.connectOnChanged(this._get("parent"),"height",n),this._removeUpdater("portrait",function(){this._get("parent").removeOnChanged("width",n),this._get("parent").removeOnChanged("height",n)}.bind(this));var s=function(){this.contextWidth=this._get("parent")._get("width")}.bind(this);s(),this.connectOnChanged(this._get("parent"),"width",s),this._removeUpdater("contextWidth",function(){this._get("parent").removeOnChanged("width",s)}.bind(this));var a=function(){this.landscape=!this._get("portrait")}.bind(this);a(),this.connectOnChanged(this,"portrait",a),this._removeUpdater("landscape",function(){this.removeOnChanged("portrait",a)}.bind(this));var c=function(){this.contextHeight=this._get("parent")._get("height")}.bind(this);c(),this.connectOnChanged(this._get("parent"),"height",c),this._removeUpdater("contextHeight",function(){this._get("parent").removeOnChanged("height",c)}.bind(this)),this.onChanged("contextHeight",function(t){this._updateLayoutType()}.bind(this)),this.onChanged("contextWidth",function(t){this._updateLayoutType()}.bind(this))},t.core.System.prototype=Object.create(t.core.Object.prototype),t.core.System.prototype.constructor=t.core.System,t.core.System.prototype.componentName="core.System",t.core.System.prototype._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var t=this.contextWidth;t<=320?this.layoutType=this.MobileS:t<=375?this.layoutType=this.MobileM:t<=425?this.layoutType=this.MobileL:t<=768?this.layoutType=this.Tablet:this.contextWidth<=1024?this.layoutType=this.Laptop:this.contextWidth<=1440?this.layoutType=this.LaptopL:this.layoutType=this.Laptop4K}},o.addProperty(t.core.System.prototype,"int","contextWidth"),o.addProperty(t.core.System.prototype,"string","vendor"),o.addProperty(t.core.System.prototype,"string","language"),o.addProperty(t.core.System.prototype,"bool","supportTransitions"),o.addProperty(t.core.System.prototype,"int","contextHeight"),o.addProperty(t.core.System.prototype,"bool","pageActive",!0),o.addProperty(t.core.System.prototype,"bool","support3dTransforms"),o.addProperty(t.core.System.prototype,"bool","portrait"),o.addProperty(t.core.System.prototype,"bool","webkit"),o.addProperty(t.core.System.prototype,"string","userAgent"),o.addProperty(t.core.System.prototype,"bool","supportTransforms"),o.addProperty(t.core.System.prototype,"string","os"),o.addProperty(t.core.System.prototype,"bool","landscape"),o.addProperty(t.core.System.prototype,"string","browser"),t.core.System.prototype.Desktop=0,t.core.System.Desktop=0,t.core.System.prototype.Tv=1,t.core.System.Tv=1,t.core.System.prototype.Mobile=2,t.core.System.Mobile=2,o.addProperty(t.core.System.prototype,"enum","device"),t.core.System.prototype.MobileS=0,t.core.System.MobileS=0,t.core.System.prototype.MobileM=1,t.core.System.MobileM=1,t.core.System.prototype.MobileL=2,t.core.System.MobileL=2,t.core.System.prototype.Tablet=3,t.core.System.Tablet=3,t.core.System.prototype.Laptop=4,t.core.System.Laptop=4,t.core.System.prototype.LaptopL=5,t.core.System.LaptopL=5,t.core.System.prototype.Laptop4K=6,t.core.System.Laptop4K=6,o.addProperty(t.core.System.prototype,"enum","layoutType"),t.core.AnchorLine=function(e){t.core.Object.apply(this,arguments)},t.core.AnchorLine.prototype=Object.create(t.core.Object.prototype),t.core.AnchorLine.prototype.constructor=t.core.AnchorLine,t.core.AnchorLine.prototype.componentName="core.AnchorLine",t.core.AnchorLine.prototype.toScreen=function(){return this.parent.toScreen()[this.boxIndex]},o.addProperty(t.core.AnchorLine.prototype,"int","boxIndex"),t.core.Effects=function(o){t.core.Object.apply(this,arguments);var r;r=new e.core.Shadow(this),this.shadow=r},t.core.Effects.prototype=Object.create(t.core.Object.prototype),t.core.Effects.prototype.constructor=t.core.Effects,t.core.Effects.prototype.componentName="core.Effects",t.core.Effects.prototype._getFilterStyle=function(){var t=[];return this._addStyle(t,"blur","blur","px"),this._addStyle(t,"grayscale"),this._addStyle(t,"sepia"),this._addStyle(t,"brightness"),this._addStyle(t,"contrast"),this._addStyle(t,"hueRotate","hue-rotate","deg"),this._addStyle(t,"invert"),this._addStyle(t,"saturate"),t},t.core.Effects.prototype._addStyle=function(t,e,o,r){var i=this[e];i&&t.push((o||e)+"("+i+(r||"")+") ")},t.core.Effects.prototype._update=function(t,o){this._updateStyle(),e.core.Object.prototype._update.apply(this,arguments)},t.core.Effects.prototype._updateStyle=function(){var t=this._getFilterStyle().join(""),e=this.parent,o={},r=!1;t.length>0&&(o["-webkit-filter"]=t,o.filter=t,r=!0),this.shadow&&!this.shadow._empty()&&(o["box-shadow"]=this.shadow._getFilterStyle(),r=!0),r&&e.style(o)},o.addProperty(t.core.Effects.prototype,"real","saturate"),o.addProperty(t.core.Effects.prototype,"real","brightness"),o.addProperty(t.core.Effects.prototype,"real","invert"),o.addProperty(t.core.Effects.prototype,"real","sepia"),o.addProperty(t.core.Effects.prototype,"real","grayscale"),o.addProperty(t.core.Effects.prototype,"real","contrast"),o.addProperty(t.core.Effects.prototype,"real","blur"),o.addProperty(t.core.Effects.prototype,"Shadow","shadow"),o.addProperty(t.core.Effects.prototype,"real","hueRotate"),t.core.Shadow=function(e){t.core.Object.apply(this,arguments)},t.core.Shadow.prototype=Object.create(t.core.Object.prototype),t.core.Shadow.prototype.constructor=t.core.Shadow,t.core.Shadow.prototype.componentName="core.Shadow",t.core.Shadow.prototype._getFilterStyle=function(){var t=this.x+"px "+this.y+"px "+this.blur+"px ";return this.spread>0&&(t+=this.spread+"px "),t+=new e.core.Color(this.color).get()},t.core.Shadow.prototype._update=function(t,o){this.parent._updateStyle(),e.core.Object.prototype._update.apply(this,arguments)},t.core.Shadow.prototype._empty=function(){return!(this.x||this.y||this.blur||this.spread)},o.addProperty(t.core.Shadow.prototype,"real","y"),o.addProperty(t.core.Shadow.prototype,"real","x"),o.addProperty(t.core.Shadow.prototype,"real","spread"),o.addProperty(t.core.Shadow.prototype,"Color","color","black"),o.addProperty(t.core.Shadow.prototype,"real","blur"),t.hello.UiIndex=function(o){function r(){this._removeUpdater("color"),this.color="#f00",this._removeUpdater("width"),this.width=100,this._removeUpdater("height"),this.height=100,this.on("clicked",function(){this.color="#f00"==this.color?"#0f0":"#f00"}.bind(this))}t.core.Rectangle.apply(this,arguments);var i;i=new e.controls.WebItem(this),this._removeUpdater("color"),this.color="#ccc";var n=function(){this._get("anchors").fill=this._get("context")}.bind(this);n(),this.connectOnChanged(this,"context",n),this._removeUpdater("anchors.fill",function(){this.removeOnChanged("context",n);
}.bind(this)),r.call(i),this.addChild(i)},t.hello.UiIndex.prototype=Object.create(t.core.Rectangle.prototype),t.hello.UiIndex.prototype.constructor=t.hello.UiIndex,t.hello.UiIndex.prototype.componentName="hello.UiIndex",t.core.Context=function(o){t.core.Item.apply(this,arguments),this._context=this,this._started=!1,this._completed=!1,this._completedHandlers=[],this._delayedActions=[],this._modernizrCache={};var r,i;r=new e.core.System(this),this.system=r,i=new e.core.Location(this),this.location=i},t.core.Context.prototype=Object.create(t.core.Item.prototype),t.core.Context.prototype.constructor=t.core.Context,t.core.Context.prototype.componentName="core.Context",t.core.Context.prototype._update=function(t,o){switch(t){case"fullscreen":o?this._enterFullscreenMode():this._exitFullscreenMode()}e.core.Item.prototype._update.apply(this,arguments)},t.core.Context.prototype.getClass=function(t){return this._prefix+t},t.core.Context.prototype.qsTr=function(t){var e=arguments,o=this.language,r=this.l10n[o]||{},i=r[t]||{};for(var n in i){t=i[n];break}return t.replace(/%(\d+)/,function(t,o){return e[o]})},t.core.Context.prototype._complete=function(){if(this._started&&!this._runningComplete){this._completed=!0,this._runningComplete=!0;var t=e.core.safeCall([],function(t){log("onCompleted failed:",t,t.stack)});do{for(;this._completedHandlers.length;){var o=this._completedHandlers;this._completedHandlers=[],o.forEach(t)}this._processActions()}while(this._completedHandlers.length);this._runningComplete=!1}},t.core.Context.prototype._exitFullscreenMode=function(){return window.Modernizr.prefixed("exitFullscreen",document)()},t.core.Context.prototype.start=function(e){log("Context: starting");var o;if("string"==typeof e){var r=e.split(".");o=t;for(var i=0;i<r.length;++i)o=o[r[i]]}else o=e;log("Context: creating instance");var n=Object.create(o.prototype);return log("Context: calling ctor"),o.apply(n,[this]),log("Context: started"),this._started=!0,log("Context: signalling layout"),this.boxChanged(),log("Context: done"),n},t.core.Context.prototype.init=function(t){log("Context: initializing..."),this._local.context=this,this.l10n=t.l10n||{};var o=t.prefix,r=t.id;o&&(o+="-"),this._prefix=o;var i=new e.html5.html.Window(this,window);this.window=i;var n,s,a=e.html5.html,c=document.getElementById(r),p=null===c;if(p){n=i.width(),s=i.height(),log("Context: window size: "+n+"x"+s),c=this.createElement("div"),c.dom.id=r,i.on("resize",function(){this.width=i.width(),this.height=i.height()}.bind(this));var h=a.getElement("body");h.append(c)}else c=new a.Element(this,c),n=c.width(),s=c.height(),log("Context: found element by id, size: "+n+"x"+s),i.on("resize",function(){this.width=c.width(),this.height=c.height()}.bind(this));var d=window.Modernizr.prefixedCSS("user-select")+": none; ",l=function(t,e){return o?t+"."+o+"core-item "+e+" ":t+" "+e+" "},y=this.createElement("style");y.setHtml("div#"+r+" { position: absolute; visibility: inherit; left: 0px; top: 0px; }div."+this.getClass("core-text")+" { width: auto; height: auto; visibility: inherit; }"+(p?"body { overflow-x: hidden; }":"")+l("div","{ position: absolute; visibility: inherit; border-style: solid; border-width: 0px; white-space: nowrap; border-radius: 0px; opacity: 1.0; transform: none; left: 0px; top: 0px; width: 0px; height: 0px; }")+l("a","{ position: absolute; visibility: inherit; border-style: solid; border-width: 0px; white-space: nowrap; border-radius: 0px; opacity: 1.0; transform: none; left: 0px; top: 0px; width: 0px; height: 0px; }")+l("textarea","{ position: absolute; visibility: inherit; border-style: solid; border-width: 0px; box-sizing: border-box; resize: none; }")+l("textarea:focus","{outline: none;}")+l("input","{ position: absolute; visibility: inherit; border-style: solid; border-width: 0px; box-sizing: border-box; }")+l("input:focus","{outline: none;}")+l("button","{ position: absolute; visibility: inherit; }")+l("canvas","{ position: absolute; visibility: inherit; }")+l("video","{ position: absolute; visibility: inherit; }")+l("svg","{ position: absolute; visibility: inherit; overflow: visible; }")+l("pre","{ position: absolute; visibility: inherit; margin: 0px;}")+l("img","{ position: absolute; visibility: inherit; -webkit-touch-callout: none; "+d+" }")),a.getElement("head").append(y),this.element=c,this.width=n,this.height=s,this.style("visibility","hidden"),i.on("scroll",function(t){this.scrollY=i.scrollY()}.bind(this)),i.on("load",function(){log("Context: window.load. calling completed()"),this._complete(),this.style("visibility","visible")}.bind(this));var u=this,f=function(t){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;u.fullscreen=e};"webkitfullscreenchange mozfullscreenchange fullscreenchange".split(" ").forEach(function(t){c.on(t,f)}),i.on("keydown",function(t){u._processKey(t)&&t.preventDefault()}.bind(this))},t.core.Context.prototype.getPrefixedName=function(t){var e=this._modernizrCache[t];return void 0===e&&(this._modernizrCache[t]=e=window.Modernizr.prefixedCSS(t)),e},t.core.Context.prototype._inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",document)},t.core.Context.prototype.scheduleAction=function(t){this._delayedActions.push(t),this._completed&&void 0===this._delayedTimeout&&(this._delayedTimeout=setTimeout(this._processActions.bind(this),0))},t.core.Context.prototype._onCompleted=function(t){this._completedHandlers.push(t)},t.core.Context.prototype.createElement=function(t){var o=new e.html5.html.Element(this,document.createElement(t));return this._prefix&&o.addClass(this.getClass("core-item")),o},t.core.Context.prototype._processActions=function(){for(var t=e.core.safeCall([],function(t){log("exception in delayed action",t,t.stack)});this._delayedActions.length;){var o=this._delayedActions;this._delayedActions=[],o.forEach(t)}this._delayedTimeout=void 0},t.core.Context.prototype._enterFullscreenMode=function(){return window.Modernizr.prefixed("requestFullscreen",this.element.dom)()},o.addProperty(t.core.Context.prototype,"bool","fullscreen"),o.addProperty(t.core.Context.prototype,"Location","location"),o.addProperty(t.core.Context.prototype,"System","system"),o.addProperty(t.core.Context.prototype,"string","language"),o.addProperty(t.core.Context.prototype,"int","scrollY"),t.core.Transform=function(e){t.core.Object.apply(this,arguments),this._transforms={}},t.core.Transform.prototype=Object.create(t.core.Object.prototype),t.core.Transform.prototype.constructor=t.core.Transform,t.core.Transform.prototype.componentName="core.Transform",t.core.Transform.prototype._update=function(t,o){switch(t){case"perspective":this._transforms.perspective=o+"px";break;case"translateX":this._transforms.translateX=o+"px";break;case"translateY":this._transforms.translateY=o+"px";break;case"translateZ":this._transforms.translateZ=o+"px";break;case"rotateX":this._transforms.rotateX=o+"deg";break;case"rotateY":this._transforms.rotateY=o+"deg";break;case"rotateZ":this._transforms.rotateZ=o+"deg";break;case"rotate":this._transforms.rotate=o+"deg";break;case"scaleX":this._transforms.scaleX=o;break;case"scaleY":this._transforms.scaleY=o;break;case"skewX":this._transforms.skewX=o+"deg";break;case"skewY":this._transforms.skewY=o+"deg"}var r="";for(var i in this._transforms)r+=i,r+="("+this._transforms[i]+") ";this.parent.style("transform",r),e.core.Object.prototype._update.apply(this,arguments)},o.addProperty(t.core.Transform.prototype,"real","rotate"),o.addProperty(t.core.Transform.prototype,"int","translateX"),o.addProperty(t.core.Transform.prototype,"int","translateY"),o.addProperty(t.core.Transform.prototype,"int","translateZ"),o.addProperty(t.core.Transform.prototype,"real","scaleX"),o.addProperty(t.core.Transform.prototype,"real","scaleY"),o.addProperty(t.core.Transform.prototype,"real","rotateX"),o.addProperty(t.core.Transform.prototype,"real","rotateY"),o.addProperty(t.core.Transform.prototype,"real","rotateZ"),o.addProperty(t.core.Transform.prototype,"int","perspective"),o.addProperty(t.core.Transform.prototype,"real","skewY"),o.addProperty(t.core.Transform.prototype,"real","skewX"),t.core.BorderSide=function(e){t.core.Object.apply(this,arguments)},t.core.BorderSide.prototype=Object.create(t.core.Object.prototype),t.core.BorderSide.prototype.constructor=t.core.BorderSide,t.core.BorderSide.prototype.componentName="core.BorderSide",t.core.BorderSide.prototype._update=function(t,o){switch(t){case"width":this._updateStyle();break;case"color":this._updateStyle()}e.core.Object.prototype._update.apply(this,arguments)},t.core.BorderSide.prototype._updateStyle=function(){if(this.parent&&this.parent.parent){var t=this.parent.parent;if(t){var o="border-"+this.name;this.width?t.style(o,this.width+"px solid "+new e.core.Color(this.color).get()):t.style(o,"")}}},o.addProperty(t.core.BorderSide.prototype,"color","color"),o.addProperty(t.core.BorderSide.prototype,"int","width"),o.addProperty(t.core.BorderSide.prototype,"string","name"),t.core.Border=function(o){function r(){this._removeUpdater("name"),this.name="top"}function i(){this._removeUpdater("name"),this.name="right"}function n(){this._removeUpdater("name"),this.name="bottom"}function s(){this._removeUpdater("name"),this.name="left"}t.core.Object.apply(this,arguments);var a,c,p,h;a=new e.core.BorderSide(this),this.top=a,c=new e.core.BorderSide(this),this.right=c,p=new e.core.BorderSide(this),this.bottom=p,h=new e.core.BorderSide(this),this.left=h,r.call(a),i.call(c),n.call(p),s.call(h)},t.core.Border.prototype=Object.create(t.core.Object.prototype),t.core.Border.prototype.constructor=t.core.Border,t.core.Border.prototype.componentName="core.Border",t.core.Border.prototype._update=function(t,o){switch(t){case"width":this.parent.style({"border-width":o,"margin-left":-o,"margin-top":-o});break;case"color":this.parent.style("border-color",e.core.normalizeColor(o));break;case"style":this.parent.style("border-style",o)}e.core.Object.prototype._update.apply(this,arguments)},o.addProperty(t.core.Border.prototype,"string","style"),o.addProperty(t.core.Border.prototype,"BorderSide","right"),o.addProperty(t.core.Border.prototype,"BorderSide","bottom"),o.addProperty(t.core.Border.prototype,"color","color"),o.addProperty(t.core.Border.prototype,"BorderSide","top"),o.addProperty(t.core.Border.prototype,"int","width"),o.addProperty(t.core.Border.prototype,"BorderSide","left"),t.core.Anchors=function(e){t.core.Object.apply(this,arguments)},t.core.Anchors.prototype=Object.create(t.core.Object.prototype),t.core.Anchors.prototype.constructor=t.core.Anchors,t.core.Anchors.prototype.componentName="core.Anchors",t.core.Anchors.prototype.marginsUpdated=function(){var e=t.core.copyArguments(arguments,0,"marginsUpdated");this.emit.apply(this,e)},t.core.Anchors.prototype._updateBottom=function(){var t=this,e=t.parent,o=e.parent,r=o.toScreen(),i=t.bottom.toScreen(),n=t.topMargin||t.margins,s=t.bottomMargin||t.margins;if(t.top){var a=t.top.toScreen();e.height=i-a-s-n}e.y=i-r[1]-s-e.height-e.viewY},t.core.Anchors.prototype._update=function(t){var o=this.parent,r=this;switch(t){case"left":var i=this._updateLeft.bind(this);i(),o.connectOn(r.left.parent,"boxChanged",i),r.onChanged("leftMargin",i);break;case"right":var n=this._updateRight.bind(this);n(),o.onChanged("width",n),o.connectOn(r.right.parent,"boxChanged",n),r.onChanged("rightMargin",n);break;case"top":var s=this._updateTop.bind(this);s(),o.connectOn(r.top.parent,"boxChanged",s),r.onChanged("topMargin",s);break;case"bottom":var a=this._updateBottom.bind(this);a(),o.onChanged("height",a),o.connectOn(r.bottom.parent,"boxChanged",a),r.onChanged("bottomMargin",a);break;case"horizontalCenter":var c=this._updateHCenter.bind(this);c(),o.onChanged("width",c),r.onChanged("leftMargin",c),r.onChanged("rightMargin",c),o.connectOn(r.horizontalCenter.parent,"boxChanged",c);break;case"verticalCenter":var p=this._updateVCenter.bind(this);p(),o.onChanged("height",p),r.onChanged("topMargin",p),r.onChanged("bottomMargin",p),o.connectOn(r.verticalCenter.parent,"boxChanged",p);break;case"fill":r.left=r.fill.left,r.right=r.fill.right,r.top=r.fill.top,r.bottom=r.fill.bottom;break;case"centerIn":r.horizontalCenter=r.centerIn.horizontalCenter,r.verticalCenter=r.centerIn.verticalCenter;break;case"leftMargin":case"rightMargin":case"topMargin":case"bottomMargin":case"margins":this.marginsUpdated()}e.core.Object.prototype._update.apply(this,arguments)},t.core.Anchors.prototype._updateLeft=function(){var t=this,e=t.parent,o=e.parent,r=o.toScreen(),i=t.left.toScreen(),n=t.leftMargin||t.margins;if(e.x=i+n-r[0]-e.viewX,t.right){var s=t.right.toScreen(),a=t.rightMargin||t.margins;e.width=s-i-a-n}},t.core.Anchors.prototype._updateHCenter=function(){var t=this,e=t.parent,o=e.parent,r=o.toScreen(),i=t.horizontalCenter.toScreen(),n=t.leftMargin||t.margins,s=t.rightMargin||t.margins;e.x=i-e.width/2-r[0]+n-s-e.viewX},t.core.Anchors.prototype._updateRight=function(){var t=this,e=t.parent,o=e.parent,r=o.toScreen(),i=t.right.toScreen(),n=t.leftMargin||t.margins,s=t.rightMargin||t.margins;if(t.left){var a=t.left.toScreen();e.width=i-a-s-n}e.x=i-r[0]-s-e.width-e.viewX},t.core.Anchors.prototype._updateTop=function(){var t=this,e=t.parent,o=e.parent,r=o.toScreen(),i=t.top.toScreen(),n=t.topMargin||t.margins,s=t.bottomMargin||t.margins;if(e.y=i+n-r[1]-e.viewY,t.bottom){var a=t.bottom.toScreen();e.height=a-i-s-n}},t.core.Anchors.prototype._updateVCenter=function(){var t=this,e=t.parent,o=e.parent,r=o.toScreen(),i=t.verticalCenter.toScreen(),n=t.topMargin||t.margins,s=t.bottomMargin||t.margins;e.y=i-e.height/2-r[1]+n-s-e.viewY},o.addProperty(t.core.Anchors.prototype,"AnchorLine","horizontalCenter"),o.addProperty(t.core.Anchors.prototype,"int","topMargin"),o.addProperty(t.core.Anchors.prototype,"Item","centerIn"),o.addProperty(t.core.Anchors.prototype,"AnchorLine","bottom"),o.addProperty(t.core.Anchors.prototype,"AnchorLine","top"),o.addProperty(t.core.Anchors.prototype,"AnchorLine","verticalCenter"),o.addProperty(t.core.Anchors.prototype,"int","rightMargin"),o.addProperty(t.core.Anchors.prototype,"int","bottomMargin"),o.addProperty(t.core.Anchors.prototype,"AnchorLine","right"),o.addProperty(t.core.Anchors.prototype,"int","margins"),o.addProperty(t.core.Anchors.prototype,"Item","fill"),o.addProperty(t.core.Anchors.prototype,"int","leftMargin"),o.addProperty(t.core.Anchors.prototype,"AnchorLine","left"),e.html5.html=function(){var t={},o=function(t){var o=e.core.copyArguments,r="_domEventHandler_";t.onListener("",function(e){var i=r+e,n=t[i]=function(){var r=o(arguments,0,e);t.emit.apply(t,r)};t.dom.addEventListener(e,n)},function(e){var o=r+e;t.dom.removeEventListener(e,t[o])})};return t.Element=function(t,r){e.core.EventEmitter.apply(this),this._context=t,this.dom=r,this._fragment=[],this._styles={},o(this)},t.Element.prototype=Object.create(e.core.EventEmitter.prototype),t.Element.prototype.constructor=t.Element,t.Element.prototype.addClass=function(t){this.dom.classList.add(t)},t.Element.prototype.setHtml=function(t){var e=this.dom;if(this._fragment.forEach(function(t){e.removeChild(t)}),this._fragment=[],""!==t){var o=document.createDocumentFragment(),r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)this._fragment.push(r.firstChild),o.appendChild(r.firstChild);return e.appendChild(o),e.children}},t.Element.prototype.width=function(){return this.dom.clientWidth},t.Element.prototype.height=function(){return this.dom.clientHeight},t.Element.prototype.fullWidth=function(){return this.dom.scrollWidth},t.Element.prototype.fullHeight=function(){return this.dom.scrollHeight},t.Element.prototype.style=function(t,e){if(void 0!==e)""!==e?this._styles[t]=e:delete this._styles[t],this.updateStyle();else{if(!(t instanceof Object))return this._styles[t];for(var o in t){var r=t[o];""!==r?this._styles[o]=r:delete this._styles[o]}this.updateStyle()}},t.Element.prototype.setAttribute=function(t,e){this.dom.setAttribute(t,e)},t.Element.prototype.updateStyle=function(){var t=this.dom;if(t){var e={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px","margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px"},o=[];for(var r in this._styles){var i=this._styles[r],n=[],s=this._context.getPrefixedName(r);n.push(s!==!1?s:r),Array.isArray(i)&&(i=i.join(","));var a="number"==typeof i?e[r]||"":"";i+=a;var c=i;n.push(c!==!1?c:i),o.push(n.join(":"))}this.dom.setAttribute("style",o.join(";"))}},t.Element.prototype.append=function(e){this.dom.appendChild(e instanceof t.Element?e.dom:e)},t.Element.prototype.discard=function(){e.core.EventEmitter.prototype.discard.apply(this),this.remove()},t.Element.prototype.remove=function(){var t=this.dom;t.parentNode.removeChild(t)},t.Window=function(t,r){e.core.EventEmitter.apply(this),this._context=t,this.dom=r,o(this)},t.Window.prototype=Object.create(e.core.EventEmitter.prototype),t.Window.prototype.constructor=t.Window,t.Window.prototype.width=function(){return this.dom.innerWidth},t.Window.prototype.height=function(){return this.dom.innerHeight},t.Window.prototype.scrollY=function(){return this.dom.scrollY},t.getElement=function(e){var o=document.getElementsByTagName(e);if(1!=o.length)throw new Error("no tag "+e+"/multiple tags");return new t.Element(this,o[0])},t}(),t}();try{var l10n={};qml._context=new qml.core.Context,qml._context.init({id:"qml-context-index",prefix:"",l10n:l10n}),qml._context.start(qml.hello.UiIndex)}catch(t){log("qml initialization failed: ",t,t.stack)}
